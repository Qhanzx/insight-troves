{% extends 'base.html' %}

{% block content %}
<h1 class="text-center mb-4">Edit Post</h1>
<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow-lg">
                <div class="card-body">
                    <form method="POST" action="{{ url_for('edit', post_id=post.PostID) }}">
                        <div class="form-row">
                            <div class="form-group col-md-6 text-center">
                                <label for="category">Category</label>
                                <select class="form-control" id="category" name="category" required>
                                    <option value="">Choose...</option>
                                    <!-- Add your categories here -->
                                    <!-- Example: -->
                                    <option value="category1" {% if post.category == 'category1' %} selected {% endif %}>Category 1</option>
                                    <option value="category2" {% if post.category == 'category2' %} selected {% endif %}>Category 2</option>
                                </select>
                            </div>
                            <div class="form-group col-md-6 text-center">
                                <label for="module">Module</label>
                                <input type="text" class="form-control" id="module" name="module" value="{{ post.module }}" required>
                            </div>
                        </div>
                        <div class="form-group text-center">
                            <label for="topic">Topic</label>
                            <input type="text" class="form-control" id="topic" name="topic" value="{{ post.topic }}" required>
                        </div>
                        <div class="form-group text-center">
                            <label for="content">Content</label>
                            <textarea class="form-control" id="content" name="content" rows="5" required>{{ post.content }}</textarea>
                        </div>
                        <div class="form-group text-center">
                            <label for="readTime">Read Time (minutes)</label>
                            <input type="number" class="form-control" id="readTime" name="read_time" value="{{ post.read_time }}" required>
                        </div>
                        <div class="form-group text-center">
                            <button type="submit" class="btn btn-primary">Update Post</button>
                            <form method="POST" action="{{ url_for('delete', post_id=post.PostID) }}">
                                <input type="submit" value="Delete Post" class="btn btn-danger"
                                       onclick="return confirm('Are you sure you want to delete this post?')">
                            </form>
                        </div>
                    </form>

                    <hr>
                    
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
